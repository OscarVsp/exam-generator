\section*{Question 5}
I have created a collection of D Flip-Flop that can be access individually using the "sel" input.

However, I may have made some mistake during the design. Can you find the \textbf{2 mistakes} and explain how to fix them ?


\vspace{0.5cm}
\begin{lstlisting}[language=vhdl]
library ieee;
use ieee.std_logic_1164.ALL;

entity myFFCollection is Port (
  data_in : in std_logic;
  sel : in std_logic_vector(3 downto 0);
  clock : in std_logic;
  reset : in std_logic;
  data_out : out std_logic
); end myFFCollection;

architecture arch of myFFCollection is

component D_Flip_Flop is Port (
  enable : in std_logic;
  Q : out std_logic;
  D : in std_logic
); end component;

signal FF_D, FF_Q, FF_en : std_logic_vector(1 downto 0);

begin    

  gen_loop : for i in 3 downto 0 generate
    DFF : D_Flip_Flop port map (FF_en(i), FF_D(i), FF_Q(i));
  end generate gen_loop;
  
  process(clock)
  begin
    if rising_edge (clock) then
      ff_en <= sel;
      
      case sel is
        when  "0001" =>
          FF_D(0) <= data_in;
          data_out <= FF_Q(0);
        when  "0010" =>
          FF_D(1) <= data_in;
          data_out <= FF_Q(1);
        when  "0100" =>
          FF_D(2) <= data_in;
          data_out <= FF_Q(2);
        when  "1000" =>
          FF_D(3) <= data_in;
          data_out <= FF_Q(3);
      end case;
    end if;
  end process;
             
end arch;
\end{lstlisting}
\vspace{0.5cm}

\newpage
\null
\newpage